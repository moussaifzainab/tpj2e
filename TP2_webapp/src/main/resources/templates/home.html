<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Employee Web Application</title>
  <link rel="stylesheet"
        href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <link rel="stylesheet" href="/css/theme.css">

  <style>
    body { padding-top: 50px; }
    .special { padding-top: 50px; }

    /* --- Ajout pour aligner les boutons côte à côte --- */
    td.actions {
      display: flex;
      align-items: center;
      gap: 8px; /* espace entre les boutons */
    }

    td.actions form {
      margin: 0; /* enlève les marges verticales des formulaires */
    }

    td.actions a,
    td.actions button {
      white-space: nowrap; /* évite le retour à la ligne */
    }
  </style>
</head>
<body>
<nav class="navbar navbar-inverse navbar-fixed-top">
  <div class="container">
    <div class="navbar-header">
      <a class="navbar-brand" href=".">Système de gestion des employés</a>
    </div>
  </div>
</nav>

<div class="container special">
  <h2>Liste des employés</h2>

  <!-- message flash optionnel -->
  <div th:if="${msg}" class="alert alert-success" th:text="${msg}"></div>

  <div class="table-responsive">
    <table class="table table-striped table-sm">
      <thead>
        <tr>
          <th>Prénom</th>
          <th>Nom</th>
          <th style="width:220px">Action</th>
        </tr>
      </thead>
      <tbody>
        <tr th:if="${#lists.isEmpty(employees)}">
          <td colspan="3">Aucun employé en base de données</td>
        </tr>

        <tr th:each="employee : ${employees}">
          <td th:text="${employee.firstName}">Prénom</td>
          <td th:text="${employee.lastName}">Nom</td>
          <td class="actions">
            <!-- Modifier (GET) -->
            <a th:href="@{/updateEmployee/{id}(id=${employee.id})}" class="btn btn-success btn-sm">
              Modifier
            </a>

            <!-- Supprimer (POST) -->
            <form th:action="@{/deleteEmployee/{id}(id=${employee.id})}" method="post"
                  onsubmit="return confirm('Confirmer la suppression ?');">
              <button type="submit" class="btn btn-danger btn-sm">Supprimer</button>
            </form>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <h4>
    <a th:href="@{/createEmployee}" class="btn btn-primary btn-sm">Ajouter un nouvel employé</a>
  </h4>
</div>
</body>
</html>
